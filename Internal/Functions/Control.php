<?php
//--------------------------------------------------------------------------------------------------
// Control
//--------------------------------------------------------------------------------------------------
//
// Author     : Ozan UYKUN <ozanbote@windowslive.com> | <ozanbote@gmail.com>
// Site       : www.znframework.com
// License    : The MIT License
// Copyright  : Copyright (c) 2012-2016, ZN Framework
//
//--------------------------------------------------------------------------------------------------

//--------------------------------------------------------------------------------------------------
// isImport()
//--------------------------------------------------------------------------------------------------
//
// @param string $path
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isImport(String $path) : Bool
{
    return in_array( realpath(suffix($path, '.php')), get_required_files() );
}

//--------------------------------------------------------------------------------------------------
// isUrl()
//--------------------------------------------------------------------------------------------------
//
// @param string $url
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isUrl(String $url) : Bool
{
    return preg_match('#^(\w+:)?//#i', $url);
}

//--------------------------------------------------------------------------------------------------
// isEmail()
//--------------------------------------------------------------------------------------------------
//
// @param string $email
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isEmail(String $email) : Bool
{
    return preg_match("/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/ix", $email);
}

//--------------------------------------------------------------------------------------------------
// isChar()
//--------------------------------------------------------------------------------------------------
//
// @param mixed $str
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isChar($str) : Bool
{
    return is_scalar($str);
}

//--------------------------------------------------------------------------------------------------
// isRealNumeric()
//--------------------------------------------------------------------------------------------------
//
// @param numeric $num = 0
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isRealNumeric($num = 0) : Bool
{
    return ! is_string($num) && is_numeric($num);
}

//--------------------------------------------------------------------------------------------------
// isDeclaredClass()
//--------------------------------------------------------------------------------------------------
//
// @param string $class
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isDeclaredClass(String $class) : Bool
{
    return in_array(strtolower($class), array_map('strtolower', get_declared_classes()));
}


//--------------------------------------------------------------------------------------------------
// isHash()
//--------------------------------------------------------------------------------------------------
//
// @param string $type
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isHash(String $type) : Bool
{
    $hashAlgos = Arrays::addLast(hash_algos(), ['super', 'golden']);

    return in_array($type, $hashAlgos);
}

//--------------------------------------------------------------------------------------------------
// isCharset()
//--------------------------------------------------------------------------------------------------
//
// @param string $charset
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isCharset(String $charset) : Bool
{
    return array_search(strtolower($charset), array_map('strtolower', mb_list_encodings()), true);
}

//--------------------------------------------------------------------------------------------------
// isArray
//--------------------------------------------------------------------------------------------------
//
// @param mixed $array
//
// @return Bool
//
//--------------------------------------------------------------------------------------------------
function isArray($array) : Bool
{
    return ! empty($array) && is_array($array);
}

//--------------------------------------------------------------------------------------------------
// Null Coalesce
//--------------------------------------------------------------------------------------------------
//
// @param var   &$var
// @param mixed $value
//
// @return void
//
//--------------------------------------------------------------------------------------------------
function nullCoalesce( & $var, $value)
{
    $var = $var === NULL ? $value : $var;
}
